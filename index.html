<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>簿記3級 模擬テスト</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container" id="app">

  <!-- スタート画面 -->
  <div id="start-screen">
    <div class="header">
      <h1>日商簿記3級 模擬テスト</h1>
      <p>本番に近い形式で実力をチェック！</p>
    </div>

    <div class="card start-screen">
      <h2>試験概要</h2>
      <div class="exam-info">
        <div class="exam-info-item">
          <h4>試験時間</h4>
          <p>60分</p>
        </div>
        <div class="exam-info-item">
          <h4>合格ライン</h4>
          <p>70点 / 100点</p>
        </div>
        <div class="exam-info-item">
          <h4>第1問</h4>
          <p>仕訳 15問 (45点)</p>
        </div>
        <div class="exam-info-item">
          <h4>第2問</h4>
          <p>補助簿・理論 (20点)</p>
        </div>
        <div class="exam-info-item">
          <h4>第3問</h4>
          <p>決算・財務諸表 (35点)</p>
        </div>
      </div>

      <h3 style="margin: 24px 0 12px;">モードを選択</h3>
      <div class="mode-select">
        <div class="mode-card selected" onclick="App.selectMode('full')" id="mode-full">
          <h3>本番形式</h3>
          <p>60分の制限時間で<br>全問に挑戦</p>
        </div>
        <div class="mode-card" onclick="App.selectMode('section')" id="mode-section">
          <h3>大問別練習</h3>
          <p>好きな大問を<br>時間無制限で練習</p>
        </div>
        <div class="mode-card" onclick="App.selectMode('quick')" id="mode-quick">
          <h3>クイック</h3>
          <p>仕訳5問で<br>サクッと確認</p>
        </div>
      </div>

      <div id="section-select" class="hidden" style="margin: 20px 0;">
        <p style="margin-bottom: 12px; font-weight: 600;">練習する大問を選択：</p>
        <div class="mode-select">
          <div class="mode-card" onclick="App.selectSection(1)" id="sec-1">
            <h3>第1問</h3>
            <p>仕訳問題</p>
          </div>
          <div class="mode-card" onclick="App.selectSection(2)" id="sec-2">
            <h3>第2問</h3>
            <p>補助簿・理論</p>
          </div>
          <div class="mode-card" onclick="App.selectSection(3)" id="sec-3">
            <h3>第3問</h3>
            <p>決算・財務諸表</p>
          </div>
        </div>
      </div>

      <div class="btn-group">
        <button class="btn btn-primary btn-lg" onclick="App.startExam()">テスト開始</button>
        <button class="btn btn-outline btn-lg" onclick="App.showHistory()">受験履歴を見る</button>
      </div>
    </div>
  </div>

  <!-- テスト画面 -->
  <div id="exam-screen" class="hidden">
    <div class="header">
      <h1>日商簿記3級 模擬テスト</h1>
    </div>

    <div class="status-bar">
      <button class="home-btn" onclick="App.goHome()">&#9664; ホーム</button>
      <div class="timer" id="timer">60:00</div>
      <div class="progress-info" id="progress-info">第1問 / 全3問</div>
    </div>

    <div class="section-tabs" id="section-tabs">
      <button class="section-tab active" onclick="App.showSection(1)" id="tab1">
        第1問<br><span class="tab-score">仕訳 (45点)</span>
      </button>
      <button class="section-tab" onclick="App.showSection(2)" id="tab2">
        第2問<br><span class="tab-score">補助簿・理論 (20点)</span>
      </button>
      <button class="section-tab" onclick="App.showSection(3)" id="tab3">
        第3問<br><span class="tab-score">決算 (35点)</span>
      </button>
    </div>

    <div class="section active" id="section1"></div>
    <div class="section" id="section2"></div>
    <div class="section" id="section3"></div>

    <div class="btn-group" style="margin: 32px 0;">
      <button class="btn btn-success btn-lg" onclick="Grading.submitExam()">採点する</button>
    </div>
  </div>

  <!-- 結果画面 -->
  <div id="result-screen" class="hidden"></div>

  <!-- 履歴画面 -->
  <div id="history-screen" class="hidden"></div>
</div>

<!-- JS: 読み込み順が重要（依存関係順） -->
<!-- データファイル（問題プール） -->
<script src="data/shiwake.js"></script>
<script src="data/hojobobo.js"></script>
<script src="data/riron.js"></script>
<script src="data/kessan.js"></script>
<!-- アプリケーション -->
<script src="js/questions.js"></script>
<script src="js/history.js"></script>
<script src="js/app.js"></script>
<script src="js/render.js"></script>
<script src="js/grading.js"></script>
</body>
</html>
